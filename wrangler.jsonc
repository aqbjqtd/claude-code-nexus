{
	"$schema": "https://raw.githubusercontent.com/cloudflare/wrangler/main/config-schema.json",
	"name": "claude-code-nexus",
	"main": "src/index.ts",
	"compatibility_date": "2024-07-29",
	"compatibility_flags": [
		"nodejs_compat"
	],
	// ... 其他顶层配置 ...

	// 本地开发环境配置
	"vars": {
		"NODE_ENV": "development",
		"APP_BASE_URL": "http://localhost:8787"
		// 本地开发可以有自己的 GitHub OAuth App
	},
	"d1_databases": [
		{
			"binding": "DB",
			"database_name": "claude-code-nexus-local",
			"database_id": "local"
		}
	],

	// 生产环境配置
	"env": {
		"production": {
			"d1_databases": [
				{
					"binding": "DB",
					"database_name": "nexus-db",
					"database_id": "9d0e4ecf-0036-46bb-a719-2f256f3c86cb",
					"migrations_dir": "drizzle"
				}
			],
			"vars": {
				"NODE_ENV": "production",
				"APP_BASE_URL": "https://claude-code-nexus-production.xyzflysnowwin.workers.dev",
				"GITHUB_CLIENT_ID": "Iv23linexJIeYGLZGQt1",
				"GITHUB_CLIENT_SECRET": "5f409acbe2d45ba2249c92c09e72065abc858264",
				"JWT_SECRET": "VPygjO7aPjqK0GkDMKbX",
				"ADMIN_GITHUB_ID": "aqbjqtd"
			}
		}
	}
}
